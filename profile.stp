global timings_start[100]
global timings[100]

probe process("/home/jczaja/projects/aio-test/build/aio_test").function("*").call
{
  timings_start[ppfunc(),tid()] = gettimeofday_ms()
}


probe process("/home/jczaja/projects/aio-test/build/aio_test").function("*").return
{
  timings[ppfunc(),tid()] += gettimeofday_ms()  - timings_start[ppfunc(),tid()];
}

probe end
{
  foreach([x,tid] in timings-) { printf("%s, TID=%d: %d\n",x,tid,timings[x,tid])}
}
